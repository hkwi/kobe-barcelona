---
layout: default
---
Demographics visualization
<div class="row" style="display:flex; justify-content:space-around">
  <div style="width:48%">
    <div id="map1"></div>
    → Kobe <a href="{{ "/app/2016/05/10/kobe.html" | prepend: site.baseurl }}">picker</a>,
    <a href="{{ "/app/2016/05/11/animation-kobe.html" | prepend: site.baseurl }}">animation</a>
  </div>
  <div style="width:48%">
    <div id="map2"></div>
    → Barcelona <a href="{{ "/app/2016/05/10/barcelona.html" | prepend: site.baseurl }}">picker</a>,
    <a href="{{ "/app/2016/05/11/animation-barcelona.html" | prepend: site.baseurl }}">animation</a>
  </div>
</div>

<script src="{{ "/assets/axios.min.js" | prepend: site.baseurl }}"></script>
<script type="text/javascript">
var base = "{{ "/data/" | prepend: site.baseurl }}";

var map;
function initMap() {
	var smt = new google.maps.StyledMapType([{
	  'stylers': [
	    { 'gamma': 0.8 },
	    { 'saturation': -100 },
	    { 'lightness': 20 }
	  ]
	}], { name: "monochrome" });
	map1 = new google.maps.Map(document.getElementById('map1'), {disableDefaultUI:true});
	map2 = new google.maps.Map(document.getElementById('map2'), {disableDefaultUI:true});
	map1.mapTypes.set("mono", smt);
	map1.setMapTypeId("mono");
	map2.mapTypes.set("mono", smt);
	map2.setMapTypeId("mono");
	map1.fitBounds(new google.maps.LatLngBounds(
	  new google.maps.LatLng(34.6504, 135.116),
	  new google.maps.LatLng(34.7382, 135.2654)));
	map2.fitBounds(new google.maps.LatLngBounds(
	  new google.maps.LatLng(41.320004, 2.0695258),
	  new google.maps.LatLng(41.4695761, 2.2280099)));
	function ctrl(html){
	  var d1 = document.createElement("div");
	  d1.style.backgroundColor = "white";
	  d1.style.padding = "15px";
	  d1.style.margin = "5px";
	  d1.innerHTML=html;
	  return d1;
	}
	axios.get(base + "/kobe_union_2015_ages.json").then(function(resp){
	  resp.data.forEach(function(row){
	    var c = "rgb("+Math.floor(256*row.R)+","+Math.floor(256*row.G)+","+Math.floor(256*row.B)+")";
	    new google.maps.Circle({
	      center: new google.maps.LatLng(row.lat, row.lng),
	      strokeColor: c,
	      strokeOpacity: 0,
	      fillColor: c,
	      fillOpacity: 0.6,
	      radius: 100,
	      map: map1});
	  });
	})
	axios.get(base + "/barcelona_union_2015_ages.json").then(function(resp){
	  resp.data.forEach(function(row){
	    var c = "rgb("+Math.floor(256*row.R)+","+Math.floor(256*row.G)+","+Math.floor(256*row.B)+")";
	    new google.maps.Circle({
	      center: new google.maps.LatLng(row.lat, row.lng),
	      strokeColor: c,
	      strokeOpacity: 0,
	      fillColor: c,
	      fillOpacity: 0.6,
	      radius: 400,
	      map: map2});
	  });
	})
}
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBWG7RNe916URO79mZeYBiMFfORHoHQSG4&callback=initMap"></script>
